<!DOCTYPE html>
<html lang="en" ng-app="adminApp">
<head>
    <meta charset="utf-8" />
    <title>Find my Volunteer :: Administration</title>

    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="vendor/bootstrap.min.css" />
    <link rel="stylesheet" href="css/styles.css" />
</head>
<body ng-controller="adminCtrl" class="admin">

    <header>
      <h1>Find My Volunteers Administration</h1>
    </header>


    <div class="container">
      <form novalidate name="searchForm" class="search" type="GET">

          <fieldset class="clearfix">
              <input autofocus placeholder="Search Volunteer ID, Group ID or Volunteer Name" type="text" name="name" ng-model="search" />
              <button class="submit" ng-disabled="!hasSearchTerm()" ng-click="submitSearch()">Search</button>
          </fieldset>

      </form>

      <div class="results" ng-show="searchSubmitted">
        <header class="clearfix">
          <h2>Results</h2>

          <nav ng-show="searchFoundPeople()">
            <a href="#">map</a>
          </nav>
        </header>
        <ul ng-show="searchFoundPeople()">
          <li ng-repeat="person in people" class="clearfix">
            <span class="metadata">
              <span class="name">{{person.name}}</span>
              <span class="volunteerId">( <span>{{person.volunteerId}}</span> )</span>
              <span class="groupId">Group: <span>{{person.groupId}}</span></span>
              <span class="contact">Contact: <span>{{person.contact.join(', ')}}</span></span>
            </span>

            <nav>
              <a href="#">map</a>
              <a href="#" ng-click="showCheckinLogForPerson(person)">log</a>
            </nav>
          </li>
        </ul>

        <p class="noneFound" ng-show="!searchFoundPeople()">
          No People Found
        </p>

    </div>

    <div ui-modal ng-model="showCheckinLog" class="fade checkinLog">
      <h2>Checkin Log for {{checkinLog.name}}</h2>
      <table>
        <tr>
          <th class="location">&nbsp;</th>
          <th class="timestamp">Date &amp; Time</th>
          <th>Message</th>
        </tr>
      </table>
      <div class="tableViewport">
        <table>
          <tr ng-repeat="entry in checkinLog.entries" ng-click="entry.location && showLocation([entry])">
            <td location-title class="location"><i class="icon-map-marker"></i></td>
            <td class="timestamp">{{entry.timestamp | date:'short'}}</td>
            <td>{{entry.message}}</td>
          </tr>
        </table>
      </div>
      <footer>
        <button ng-click="closeCheckinLog()">Close</button>
      </footer>
    </div>

    <script src="vendor/jquery-1.8.3.min.js"></script>
    <script src="vendor/angular-1.0.3.min.js"></script>
    <script src="vendor/bootstrap-modal.min.js"></script>
    <script src="vendor/angular-ui-modal.js"></script>
    <script src="js/directives.js"></script>
    <script src="js/services.js"></script>
    <script src="js/admin.js"></script>

</body>
</html>
